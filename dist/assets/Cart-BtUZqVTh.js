import{j as s}from"./bootstrap-BAfCaTjV.js";import{b as i,L as r}from"./react-vendor-DzKTsnMW.js";import{u as f}from"./useCart-tiebDccO.js";import{L as I}from"./index-BnR67Ct2.js";import"./firebase-DJiCNlSL.js";const B="_cart_1qxkb_62",T="_pageHeader_1qxkb_67",S="_pageTitle_1qxkb_70",$="_emptyCart_1qxkb_97",D="_emptyCartIcon_1qxkb_105",E="_emptyCartButtons_1qxkb_120",P="_cartItems_1qxkb_132",w="_cartHeader_1qxkb_138",H="_clearCartBtn_1qxkb_150",L="_cartItem_1qxkb_132",R="_itemImage_1qxkb_174",M="_itemDetails_1qxkb_190",U="_itemName_1qxkb_190",F="_itemDescription_1qxkb_197",A="_itemMeta_1qxkb_206",Q="_seller_1qxkb_206",V="_condition_1qxkb_207",O="_itemPrice_1qxkb_212",W="_itemQuantity_1qxkb_217",G="_quantityBtn_1qxkb_226",z="_quantity_1qxkb_226",K="_itemTotal_1qxkb_254",J="_removeBtn_1qxkb_259",X="_orderSummary_1qxkb_279",Y="_summaryTitle_1qxkb_287",Z="_summaryDetails_1qxkb_293",ss="_summaryRow_1qxkb_296",es="_total_1qxkb_303",ts="_discount_1qxkb_311",as="_couponSection_1qxkb_315",ns="_couponInput_1qxkb_326",is="_couponHint_1qxkb_337",cs="_actionButtons_1qxkb_341",os="_checkoutBtn_1qxkb_346",rs="_continueBtn_1qxkb_360",ls="_additionalInfo_1qxkb_371",ds="_infoItem_1qxkb_376",ms="_infoIcon_1qxkb_385",e={cart:B,pageHeader:T,pageTitle:S,emptyCart:$,emptyCartIcon:D,emptyCartButtons:E,cartItems:P,cartHeader:w,clearCartBtn:H,cartItem:L,itemImage:R,itemDetails:M,itemName:U,itemDescription:F,itemMeta:A,seller:Q,condition:V,itemPrice:O,itemQuantity:W,quantityBtn:G,quantity:z,itemTotal:K,removeBtn:J,orderSummary:X,summaryTitle:Y,summaryDetails:Z,summaryRow:ss,total:es,discount:ts,couponSection:as,couponInput:ns,couponHint:is,actionButtons:cs,checkoutBtn:os,continueBtn:rs,additionalInfo:ls,infoItem:ds,infoIcon:ms},bs=()=>{const{cartItems:n,removeFromCart:_,updateQuantity:m,clearCart:N}=f(),[g,y]=i.useState(!1),[c,x]=i.useState(""),[u,p]=i.useState(0),[v,h]=i.useState(!1);i.useEffect(()=>{const t=setTimeout(()=>{y(!1)},500);return()=>clearTimeout(t)},[]);const j=()=>{const a={UTP10:.1,STUDENT15:.15,WELCOME20:.2}[c.toUpperCase()];a?(p(a),h(!0)):alert("Código de cupón inválido. Códigos disponibles: UTP10, STUDENT15, WELCOME20")},q=()=>{p(0),h(!1),x("")},k=t=>{t.target.src="https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=100&h=100&fit=crop"},l=n.reduce((t,a)=>t+a.price*a.quantity,0),b=l*u,d=l-b,o=d>50||n.length===0?0:5.99,C=d+o;return g?s.jsx(I,{}):s.jsx("div",{className:e.cart,children:s.jsxs("div",{className:"container",children:[s.jsx("div",{className:"row",children:s.jsx("div",{className:"col-12",children:s.jsxs("div",{className:e.pageHeader,children:[s.jsx("h1",{className:e.pageTitle,children:"Mi Carrito"}),s.jsx("nav",{"aria-label":"breadcrumb",children:s.jsxs("ol",{className:"breadcrumb",children:[s.jsx("li",{className:"breadcrumb-item",children:s.jsx(r,{to:"/",children:"Inicio"})}),s.jsx("li",{className:"breadcrumb-item active",children:"Carrito"})]})})]})})}),n.length===0?s.jsx("div",{className:"row",children:s.jsx("div",{className:"col-12",children:s.jsxs("div",{className:e.emptyCart,children:[s.jsx("div",{className:e.emptyCartIcon,children:s.jsx("i",{className:"bi bi-cart-x",style:{fontSize:"4rem"}})}),s.jsx("h2",{children:"Tu carrito está vacío"}),s.jsx("p",{children:"¡Descubre productos increíbles en nuestro catálogo!"}),s.jsxs("div",{className:e.emptyCartButtons,children:[s.jsx(r,{to:"/catalog",className:"btn btn-primary btn-lg",children:"Explorar Catálogo"}),s.jsx(r,{to:"/",className:"btn btn-outline-secondary btn-lg",children:"Volver al Inicio"})]})]})})}):s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-lg-8",children:s.jsxs("div",{className:e.cartItems,children:[s.jsxs("div",{className:e.cartHeader,children:[s.jsxs("h3",{children:["Productos en el Carrito (",n.length,")"]}),s.jsxs("button",{className:`btn btn-outline-danger ${e.clearCartBtn}`,onClick:N,children:[s.jsx("i",{className:"bi bi-trash"})," Vaciar Carrito"]})]}),n.map((t,a)=>s.jsxs("div",{className:`${e.cartItem} fade-in`,style:{animationDelay:`${a*.1}s`},children:[s.jsx("div",{className:e.itemImage,children:s.jsx("img",{src:t.image,alt:t.name,onError:k})}),s.jsxs("div",{className:e.itemDetails,children:[s.jsx("h4",{className:e.itemName,children:t.name}),s.jsx("p",{className:e.itemDescription,children:t.description}),s.jsxs("div",{className:e.itemMeta,children:[s.jsxs("span",{className:e.seller,children:[s.jsx("i",{className:"bi bi-person"})," ",t.seller]}),s.jsxs("span",{className:e.condition,children:[s.jsx("i",{className:"bi bi-box-seam"})," ",t.condition]}),t.rating&&s.jsxs("span",{className:e.rating,children:[s.jsx("i",{className:"bi bi-star-fill"})," ",t.rating]})]})]}),s.jsxs("div",{className:e.itemPrice,children:[s.jsx("span",{className:e.priceLabel,children:"Precio unitario:"}),s.jsxs("span",{className:e.priceValue,children:["$",t.price]})]}),s.jsxs("div",{className:e.itemQuantity,children:[s.jsx("span",{className:e.quantityLabel,children:"Cantidad:"}),s.jsxs("div",{className:e.quantityControls,children:[s.jsx("button",{className:e.quantityBtn,onClick:()=>m(t.id,t.quantity-1),disabled:t.quantity<=1,children:"-"}),s.jsx("span",{className:e.quantity,children:t.quantity}),s.jsx("button",{className:e.quantityBtn,onClick:()=>m(t.id,t.quantity+1),children:"+"})]})]}),s.jsxs("div",{className:e.itemTotal,children:[s.jsx("span",{className:e.totalLabel,children:"Total:"}),s.jsxs("span",{className:e.totalValue,children:["$",(t.price*t.quantity).toFixed(2)]})]}),s.jsx("button",{className:e.removeBtn,onClick:()=>_(t.id),"aria-label":"Eliminar producto",title:"Eliminar producto",children:"×"})]},`${t.id}-${a}`))]})}),s.jsx("div",{className:"col-lg-4",children:s.jsxs("div",{className:e.orderSummary,children:[s.jsx("h3",{className:e.summaryTitle,children:"Resumen del Pedido"}),s.jsxs("div",{className:e.summaryDetails,children:[s.jsxs("div",{className:e.summaryRow,children:[s.jsxs("span",{children:["Subtotal (",n.reduce((t,a)=>t+a.quantity,0)," productos):"]}),s.jsxs("span",{children:["$",l.toFixed(2)]})]}),u>0&&s.jsxs("div",{className:e.summaryRow,children:[s.jsxs("span",{children:["Descuento (",c.toUpperCase(),"):",s.jsx("button",{className:e.removeCouponBtn,onClick:q,title:"Remover cupón",children:"×"})]}),s.jsxs("span",{className:e.discount,children:["-$",b.toFixed(2)]})]}),s.jsxs("div",{className:e.summaryRow,children:[s.jsx("span",{children:"Costo de envío:"}),s.jsx("span",{children:o===0?s.jsxs("span",{className:e.freeShipping,children:[s.jsx("i",{className:"bi bi-gift"})," Gratis"]}):`$${o.toFixed(2)}`})]}),o>0&&s.jsx("div",{className:e.shippingNote,children:s.jsxs("small",{children:[s.jsx("i",{className:"bi bi-gift"})," ¡Agrega $",(50-d).toFixed(2)," más para envío gratis!"]})}),s.jsx("hr",{}),s.jsxs("div",{className:`${e.summaryRow} ${e.total}`,children:[s.jsx("span",{children:s.jsx("strong",{children:"Total a pagar:"})}),s.jsx("span",{children:s.jsxs("strong",{children:["$",C.toFixed(2)]})})]})]}),!v&&s.jsxs("div",{className:e.couponSection,children:[s.jsxs("h4",{children:[s.jsx("i",{className:"bi bi-ticket-perforated"})," Cupón de Descuento"]}),s.jsxs("div",{className:e.couponInput,children:[s.jsx("input",{type:"text",className:"form-control",placeholder:"Ingresa tu código",value:c,onChange:t=>x(t.target.value),onKeyPress:t=>t.key==="Enter"&&j()}),s.jsx("button",{className:"btn btn-outline-primary",onClick:j,disabled:!c.trim(),children:"Aplicar"})]}),s.jsxs("small",{className:e.couponHint,children:[s.jsx("strong",{children:"Códigos disponibles:"}),s.jsx("br",{}),"UTP10 - 10% descuento",s.jsx("br",{}),"STUDENT15 - 15% descuento",s.jsx("br",{}),"WELCOME20 - 20% descuento"]})]}),s.jsxs("div",{className:e.actionButtons,children:[s.jsxs("button",{className:`btn btn-primary btn-lg ${e.checkoutBtn}`,children:[s.jsx("i",{className:"bi bi-credit-card"})," Proceder al Pago"]}),s.jsxs(r,{to:"/catalog",className:`btn btn-outline-secondary ${e.continueBtn}`,children:[s.jsx("i",{className:"bi bi-shop"})," Seguir Comprando"]})]}),s.jsxs("div",{className:e.additionalInfo,children:[s.jsxs("div",{className:e.infoItem,children:[s.jsx("i",{className:`bi bi-truck ${e.infoIcon}`}),s.jsxs("div",{children:[s.jsx("strong",{children:"Envío Gratis"}),s.jsx("p",{children:"En compras mayores a $50"})]})]}),s.jsxs("div",{className:e.infoItem,children:[s.jsx("i",{className:`bi bi-shield-lock ${e.infoIcon}`}),s.jsxs("div",{children:[s.jsx("strong",{children:"Pago Seguro"}),s.jsx("p",{children:"Transacciones protegidas SSL"})]})]}),s.jsxs("div",{className:e.infoItem,children:[s.jsx("i",{className:`bi bi-arrow-repeat ${e.infoIcon}`}),s.jsxs("div",{children:[s.jsx("strong",{children:"Devoluciones"}),s.jsx("p",{children:"30 días de garantía"})]})]}),s.jsxs("div",{className:e.infoItem,children:[s.jsx("i",{className:`bi bi-building ${e.infoIcon}`}),s.jsxs("div",{children:[s.jsx("strong",{children:"Recoge en Campus"}),s.jsx("p",{children:"Sin costo adicional"})]})]})]})]})})]})]})})};export{bs as default};
